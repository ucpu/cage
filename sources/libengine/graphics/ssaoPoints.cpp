#include <cage-core/math.h>
#include <cage-core/serialization.h>

namespace cage
{
	namespace
	{
		const Vec4 ps[256] = { Vec4(-0.573683, -0.811583, 0.110552, 0.937829), Vec4(-0.238698, -0.071648, 0.968447, 0.059155), Vec4(-0.972256, -0.060809, 0.225877, 0.683229), Vec4(-0.400166, -0.220900, -0.889422, 0.541453), Vec4(-0.190559, -0.050391, -0.980382, 0.995126), Vec4(0.230900, 0.441750, -0.866915, 0.926829), Vec4(0.447081, 0.373124, 0.812956, 0.277957), Vec4(0.251324, 0.963689, 0.090220, 0.182335), Vec4(0.150248, 0.430478, -0.890008, 0.162048), Vec4(0.239505, 0.053030, 0.969446, 0.271729), Vec4(0.209016, -0.495222, 0.843248, 0.413334), Vec4(-0.107447, -0.992294, -0.061706, 0.551479), Vec4(-0.640748, -0.766666, -0.040813, 0.322554), Vec4(0.920745, 0.103897, -0.376076, 0.380737), Vec4(0.332266, 0.488806, 0.806640, 0.893679), Vec4(0.033516, 0.972700, 0.229633, 0.144941), Vec4(-0.529644, 0.839517, -0.121197, 0.574703), Vec4(-0.291378, 0.947024, -0.135075, 0.502377), Vec4(-0.600056, 0.781659, -0.170123, 0.479690), Vec4(-0.272170, 0.080543, -0.958873, 0.717385),
			Vec4(-0.506734, -0.755949, 0.414442, 0.832252), Vec4(0.407739, -0.684232, -0.604628, 0.571284), Vec4(0.682411, 0.628315, -0.373545, 0.403472), Vec4(-0.097071, 0.040925, -0.994436, 0.725898), Vec4(0.919947, 0.036545, 0.390336, 0.074441), Vec4(0.103533, 0.474106, -0.874360, 0.912370), Vec4(0.903757, -0.427941, 0.009454, 0.716790), Vec4(-0.009810, 0.290299, -0.956886, 0.617993), Vec4(-0.128200, 0.108874, 0.985754, 0.958178), Vec4(0.729269, 0.681528, -0.060710, 0.960185), Vec4(-0.387563, -0.798521, 0.460607, 0.742596), Vec4(-0.127536, -0.904914, -0.406036, 0.951319), Vec4(-0.274874, 0.938271, 0.209978, 0.294815), Vec4(0.151808, 0.451080, 0.879478, 0.723905), Vec4(0.768782, -0.004720, 0.639494, 0.132049), Vec4(0.711770, -0.652758, 0.259405, 0.664672), Vec4(-0.805004, 0.506502, 0.308908, 0.067808), Vec4(-0.215711, 0.173377, -0.960942, 0.493400), Vec4(-0.732425, -0.461201, -0.500847, 0.275688), Vec4(0.635228, -0.156809, -0.756238, 0.735336),
			Vec4(-0.236037, -0.945299, 0.225158, 0.014344), Vec4(-0.788898, 0.491386, 0.369025, 0.659510), Vec4(-0.026673, 0.384038, -0.922932, 0.291326), Vec4(0.090399, 0.892076, 0.442752, 0.490872), Vec4(-0.512866, -0.314097, -0.798944, 0.626282), Vec4(0.317145, 0.299828, 0.899734, 0.585006), Vec4(0.285734, -0.105607, -0.952472, 0.125288), Vec4(0.440685, -0.006185, 0.897641, 0.063111), Vec4(-0.668018, 0.618695, 0.413483, 0.906744), Vec4(0.911705, -0.342631, 0.226711, 0.465555), Vec4(-0.277826, -0.055966, -0.959000, 0.791500), Vec4(0.621729, -0.110492, -0.775399, 0.799358), Vec4(-0.852257, -0.228153, -0.470748, 0.042716), Vec4(-0.872397, 0.028100, -0.487989, 0.932027), Vec4(0.399185, 0.472265, 0.785886, 0.678620), Vec4(-0.195973, 0.947182, -0.253852, 0.151224), Vec4(0.494183, -0.161978, -0.854135, 0.379290), Vec4(-0.446489, -0.780576, 0.437435, 0.660811), Vec4(0.193751, -0.187131, 0.963038, 0.685371), Vec4(0.711778, -0.514263, -0.478441, 0.187797),
			Vec4(0.362286, 0.669927, 0.648032, 0.838805), Vec4(-0.977506, -0.108575, -0.180814, 0.729244), Vec4(-0.677852, -0.602870, 0.420790, 0.579208), Vec4(-0.001679, -0.839999, -0.542586, 0.731590), Vec4(0.443847, -0.896086, -0.005432, 0.972640), Vec4(0.541434, -0.827184, -0.150389, 0.324738), Vec4(-0.078759, 0.552349, 0.829884, 0.945784), Vec4(0.477023, -0.627837, 0.615036, 0.238501), Vec4(0.171324, -0.589859, -0.789122, 0.761176), Vec4(-0.084717, -0.871181, 0.483597, 0.435485), Vec4(0.277906, -0.854540, -0.438782, 0.523785), Vec4(0.338967, -0.398059, -0.852438, 0.382132), Vec4(-0.564885, -0.117189, -0.816806, 0.264773), Vec4(-0.926343, -0.307346, -0.217775, 0.691849), Vec4(0.896215, 0.375833, 0.235687, 0.690832), Vec4(-0.543608, -0.785724, -0.295177, 0.687018), Vec4(-0.253631, 0.868710, -0.425457, 0.718011), Vec4(-0.209279, -0.657695, 0.723629, 0.887832), Vec4(-0.605437, 0.508868, -0.611963, 0.260050), Vec4(-0.791527, 0.567812, 0.225999, 0.181115),
			Vec4(-0.415192, -0.249038, -0.874983, 0.988480), Vec4(-0.164723, 0.682994, 0.711607, 0.806152), Vec4(0.742821, 0.218673, 0.632771, 0.646929), Vec4(-0.289703, -0.667007, -0.686421, 0.141318), Vec4(-0.191595, -0.652016, 0.733598, 0.370869), Vec4(0.963924, 0.165576, -0.208411, 0.052180), Vec4(0.838842, -0.523607, 0.148929, 0.268938), Vec4(-0.897043, 0.351547, -0.267823, 0.097593), Vec4(0.879890, -0.442287, -0.173711, 0.417126), Vec4(-0.443805, 0.895100, -0.042820, 0.918077), Vec4(-0.368721, 0.761570, 0.532969, 0.189787), Vec4(0.139913, 0.904454, -0.402972, 0.355817), Vec4(-0.440031, 0.050236, 0.896576, 0.298869), Vec4(-0.861367, 0.438981, 0.255622, 0.844383), Vec4(0.528329, 0.506483, -0.681427, 0.821483), Vec4(-0.587726, 0.393327, -0.707016, 0.420143), Vec4(-0.904520, 0.426430, 0.000558, 0.994893), Vec4(0.238181, 0.368476, 0.898607, 0.169599), Vec4(0.987205, 0.008541, -0.159229, 0.458461), Vec4(-0.049290, 0.576722, -0.815452, 0.927904),
			Vec4(-0.468227, -0.691212, -0.550445, 0.863046), Vec4(0.065593, -0.934595, 0.349615, 0.421866), Vec4(0.539796, -0.623520, -0.565547, 0.600018), Vec4(0.586639, 0.764526, 0.267122, 0.349516), Vec4(-0.231074, 0.638219, -0.734357, 0.498716), Vec4(-0.916581, 0.344689, 0.202654, 0.762311), Vec4(-0.298697, -0.083021, 0.950730, 0.859679), Vec4(-0.902539, -0.050610, 0.427624, 0.178639), Vec4(-0.546147, 0.050861, -0.836144, 0.137248), Vec4(-0.797307, -0.360585, 0.484025, 0.694265), Vec4(0.968220, -0.166497, -0.186625, 0.847665), Vec4(0.012378, -0.901221, 0.433182, 0.943312), Vec4(-0.163044, -0.495596, -0.853113, 0.486014), Vec4(-0.047136, 0.534256, 0.844008, 0.654141), Vec4(-0.413327, -0.059733, -0.908621, 0.424998), Vec4(0.938974, 0.222082, -0.262693, 0.107969), Vec4(-0.344619, 0.304167, 0.888099, 0.130382), Vec4(-0.560129, 0.828144, -0.020779, 0.393228), Vec4(0.302060, 0.757766, 0.578403, 0.718879), Vec4(0.269899, 0.693711, 0.667772, 0.468208),
			Vec4(-0.302517, -0.938056, 0.168921, 0.295743), Vec4(0.652385, 0.646649, -0.395272, 0.037101), Vec4(-0.020527, 0.805451, -0.592306, 0.095330), Vec4(0.406731, 0.140040, 0.902751, 0.571624), Vec4(-0.927670, -0.366564, 0.071124, 0.212242), Vec4(0.252202, -0.893695, 0.371083, 0.701217), Vec4(-0.516638, 0.088644, 0.851603, 0.501588), Vec4(0.377997, 0.669068, -0.639895, 0.228235), Vec4(0.878253, -0.475254, -0.052965, 0.638067), Vec4(-0.186502, -0.908296, -0.374454, 0.733458), Vec4(-0.049316, -0.815933, -0.576040, 0.608270), Vec4(-0.225661, -0.211946, 0.950871, 0.299824), Vec4(-0.373978, 0.741669, 0.556838, 0.339185), Vec4(-0.672032, 0.170515, -0.720623, 0.934142), Vec4(-0.606399, -0.759088, 0.236780, 0.906178), Vec4(-0.179957, -0.881447, -0.436655, 0.383553), Vec4(0.883451, 0.389612, -0.260224, 0.190203), Vec4(-0.423456, -0.576774, 0.698583, 0.976037), Vec4(0.304404, 0.720144, 0.623483, 0.565500), Vec4(0.192135, -0.911935, 0.362573, 0.458306),
			Vec4(-0.336563, -0.779066, -0.528943, 0.545406), Vec4(0.354567, -0.759548, -0.545315, 0.305152), Vec4(0.340515, -0.769331, 0.540536, 0.954331), Vec4(-0.904551, -0.114929, 0.410584, 0.206383), Vec4(-0.498444, -0.833742, -0.237547, 0.970831), Vec4(-0.305107, -0.867912, -0.391967, 0.933288), Vec4(-0.947994, 0.019382, 0.317697, 0.349289), Vec4(0.996264, -0.042073, 0.075419, 0.474549), Vec4(-0.181191, -0.973483, 0.139643, 0.682504), Vec4(0.073537, 0.299764, 0.951175, 0.297956), Vec4(-0.003071, 0.830732, 0.556665, 0.587476), Vec4(-0.848845, -0.146555, 0.507921, 0.235359), Vec4(0.498707, 0.196105, -0.844295, 0.218130), Vec4(0.207977, -0.444943, -0.871075, 0.202642), Vec4(-0.658495, 0.397499, 0.639045, 0.499134), Vec4(-0.189461, -0.894348, -0.405273, 0.710171), Vec4(-0.984226, 0.173006, 0.036981, 0.966521), Vec4(-0.419662, -0.837990, 0.348792, 0.541150), Vec4(-0.395845, 0.918168, -0.016567, 0.503651), Vec4(-0.677131, -0.004665, -0.735848, 0.095004),
			Vec4(0.894064, -0.123180, 0.430670, 0.097358), Vec4(-0.136644, 0.944819, -0.297734, 0.397627), Vec4(-0.835702, -0.393595, 0.382995, 0.983366), Vec4(-0.785892, 0.382206, 0.486099, 0.232730), Vec4(0.617264, -0.741166, 0.263928, 0.891666), Vec4(0.217437, -0.536261, 0.815565, 0.038545), Vec4(-0.660531, 0.352539, -0.662884, 0.482079), Vec4(0.628606, 0.426675, 0.650232, 0.642337), Vec4(-0.202041, 0.803591, 0.559841, 0.618246), Vec4(-0.660375, 0.525135, 0.536785, 0.782858), Vec4(0.136040, 0.471142, 0.871503, 0.156631), Vec4(0.210213, -0.501218, -0.839399, 0.470739), Vec4(0.509155, -0.620950, 0.595972, 0.026271), Vec4(0.072263, -0.830491, 0.552325, 0.942646), Vec4(-0.279809, -0.434025, 0.856346, 0.654329), Vec4(0.801971, 0.250274, 0.542408, 0.344050), Vec4(-0.790917, -0.208644, 0.575255, 0.266293), Vec4(-0.601991, -0.735672, -0.310473, 0.426254), Vec4(-0.089423, 0.173562, 0.980755, 0.758050), Vec4(-0.346726, -0.224268, 0.910761, 0.075083),
			Vec4(-0.492926, 0.388374, 0.778582, 0.154780), Vec4(-0.631167, 0.565871, -0.530489, 0.766292), Vec4(0.247691, -0.094282, 0.964241, 0.856301), Vec4(-0.096828, -0.208818, 0.973149, 0.987533), Vec4(0.651695, 0.417250, 0.633401, 0.277796), Vec4(0.448193, -0.889677, 0.087169, 0.293884), Vec4(-0.318280, 0.337970, -0.885705, 0.052730), Vec4(0.813187, 0.528595, -0.243546, 0.288010), Vec4(0.410556, -0.898853, -0.153319, 0.699587), Vec4(-0.774623, -0.609448, 0.168918, 0.067303), Vec4(-0.200356, -0.698818, 0.686666, 0.715595), Vec4(-0.128108, 0.875566, -0.465804, 0.942021), Vec4(-0.007324, 0.423167, 0.906022, 0.414652), Vec4(0.993658, 0.111961, -0.010403, 0.297412), Vec4(0.240756, -0.907548, 0.344084, 0.098377), Vec4(-0.807417, 0.077080, -0.584925, 0.370194), Vec4(0.681621, 0.517106, 0.517682, 0.364726), Vec4(-0.888964, 0.418663, -0.185645, 0.580527), Vec4(0.792754, 0.608954, -0.026766, 0.838776), Vec4(0.676500, 0.313840, -0.666222, 0.497290),
			Vec4(-0.289462, -0.609425, -0.738115, 0.753644), Vec4(-0.213360, 0.628616, -0.747876, 0.094382), Vec4(0.580883, -0.812072, 0.055812, 0.294943), Vec4(-0.875875, -0.286933, 0.387959, 0.498826), Vec4(0.288761, 0.725766, -0.624404, 0.823965), Vec4(0.377549, -0.774354, 0.507772, 0.489971), Vec4(-0.944703, -0.298482, 0.135810, 0.509433), Vec4(-0.430801, 0.380017, 0.818534, 0.407615), Vec4(0.739605, 0.340432, 0.580595, 0.590096), Vec4(0.936552, 0.218557, -0.274051, 0.049189), Vec4(0.813503, -0.122153, -0.568588, 0.714448), Vec4(0.264188, -0.943899, 0.198139, 0.826179), Vec4(0.192459, -0.451863, 0.871079, 0.647150), Vec4(-0.645646, 0.030048, 0.763046, 0.900952), Vec4(0.610957, 0.013906, -0.791542, 0.133074), Vec4(0.960131, 0.203554, -0.191612, 0.987935), Vec4(0.528632, 0.605660, 0.594747, 0.730101), Vec4(0.349649, 0.801513, -0.485101, 0.364307), Vec4(0.225041, 0.551117, 0.803509, 0.352149), Vec4(-0.060518, 0.921155, -0.384462, 0.328051),
			Vec4(0.893611, 0.440937, -0.083862, 0.991467), Vec4(-0.124216, 0.217051, -0.968225, 0.145731), Vec4(-0.151132, 0.916887, -0.369428, 0.805780), Vec4(0.258429, 0.938400, 0.229391, 0.967047), Vec4(0.246893, 0.641147, -0.726619, 0.921133), Vec4(-0.559851, -0.508410, -0.654283, 0.091830), Vec4(0.372312, -0.856261, 0.358052, 0.522579), Vec4(-0.910810, 0.017285, -0.412463, 0.489998), Vec4(-0.862489, -0.055683, 0.503003, 0.692892), Vec4(0.665509, 0.174434, -0.725721, 0.802613), Vec4(0.433730, 0.312358, 0.845169, 0.393778), Vec4(-0.148396, 0.901946, 0.405551, 0.796819), Vec4(-0.283753, 0.862921, -0.418154, 0.272845), Vec4(0.560494, -0.826702, 0.049094, 0.821891), Vec4(-0.884385, 0.371593, -0.282457, 0.181407), Vec4(-0.728856, -0.663064, 0.170634, 0.876892), Vec4(0.852491, -0.385412, 0.353152, 0.521140), Vec4(0.979198, -0.075518, 0.188332, 0.851313), Vec4(0.777613, -0.290020, 0.557859, 0.270038), Vec4(-0.174596, 0.978426, 0.110445, 0.561061),
			Vec4(-0.068818, 0.671605, -0.737707, 0.704738), Vec4(0.399540, -0.766187, -0.503314, 0.076990), Vec4(0.904084, -0.391903, 0.170425, 0.691526), Vec4(0.310346, -0.742447, -0.593681, 0.518960), Vec4(0.560654, -0.599450, -0.571251, 0.143612), Vec4(0.538764, -0.070966, -0.839462, 0.664136), Vec4(-0.429396, 0.724908, 0.538634, 0.250897), Vec4(-0.900119, 0.400097, 0.172360, 0.641071), Vec4(0.795859, 0.172834, -0.580290, 0.627797), Vec4(-0.893389, 0.395454, -0.213242, 0.279158), Vec4(0.047643, -0.426634, -0.903168, 0.009890), Vec4(0.570201, -0.816666, -0.089033, 0.606166), Vec4(-0.927495, -0.128092, 0.351206, 0.627329), Vec4(-0.593708, 0.080240, 0.800670, 0.563134), Vec4(-0.260166, -0.538388, 0.801531, 0.324472), Vec4(-0.131254, -0.219336, -0.966780, 0.882901) };
	}

	namespace privat
	{
		PointerRange<const char> pointsForSsaoShader()
		{
			return bufferCast<const char, const Vec4>(ps);
		}
	}
}
